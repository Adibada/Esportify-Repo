<!--Recherche-->
<div class="bloc d-flex flex-wrap justify-content-center gap-3 mb-5">

    <!-- Barre de recherche rapide -->
    <div class="w-100 mb-3">
        <form id="quickSearchForm" class="d-flex justify-content-center" role="search" aria-label="Recherche rapide d'événements">
            <div class="input-group" style="max-width: 600px;">
                <input class="form-control form-control-lg" type="search" id="quickSearchInput" 
                       placeholder="Recherche rapide : nom d'événement, organisateur..." />
                <button class="btn btn-primary btn-lg" type="submit">
                    <i class="fas fa-search"></i> Rechercher
                </button>
            </div>
        </form>
        
        <!-- Bouton pour afficher/masquer la recherche avancée -->
        <div class="text-center mt-2">
            <button type="button" class="btn btn-link btn-sm" id="toggleAdvancedSearch">
                <i class="fas fa-cog"></i> Recherche avancée
            </button>
        </div>
    </div>

    <!-- Recherche avancée (masquée par défaut) -->
    <div id="advancedSearchContainer" class="w-100" style="display: none;">
        <div class="row g-3">
            <!-- Recherche par nom d'évènement -->
            <div class="col-md-6 col-lg-4">
                <form id="searchEventName" role="search" aria-label="Recherche par nom d'événement">
                    <label for="eventName" class="form-label">Nom de l'évènement</label>
                    <div class="input-group">
                        <input class="form-control" type="search" id="eventName" name="eventName"
                            placeholder="Rechercher un évènement" />
                        <button class="btn btn-outline-success" type="submit">Valider</button>
                    </div>
                </form>
            </div>

            <!--Recherche organisateur-->
            <div class="col-md-6 col-lg-4">
                <form id="searchEventOrganizer" role="search" aria-label="Recherche par organisateur">
                    <label for="organizerName" class="form-label">Nom de l'organisateur</label>
                    <div class="input-group">
                        <input class="form-control" type="search" id="organizerName" name="organizerName"
                            placeholder="Rechercher un organisateur" />
                        <button class="btn btn-outline-success" type="submit">Valider</button>
                    </div>
                </form>
            </div>

            <!-- Recherche par nombre de participants -->
            <div class="col-md-6 col-lg-4">
                <form id="searchEventNumberCompetitors" role="search" aria-label="Recherche par nombre de participants">
                    <label for="minParticipants" class="form-label">Fourchette de participants</label>
                    <div class="input-group">
                        <input class="form-control"
                               type="number"
                               id="minParticipants"
                               name="minParticipants"
                               min="0"
                               max="9999"
                               step="10"
                               placeholder="Min"/>

                        <input class="form-control"
                               type="number"
                               id="maxParticipants"
                               name="maxParticipants"
                               min="0"
                               max="9999"
                               step="10"
                               placeholder="Max"/>

                        <button class="btn btn-outline-success" type="submit" aria-label="Valider la recherche">
                            Valider
                        </button>
                    </div>
                </form>
            </div>

            <!--Recherche par date-->
            <div class="col-md-6 col-lg-4">
                <form id="formDateStart" role="search" aria-label="Recherche par date de début">
                    <label for="searchDateStart" class="form-label">Évènement après :</label>
                    <div class="input-group">
                        <input class="form-control" type="date" id="searchDateStart" name="searchDateStart" />
                        <button class="btn btn-outline-success" type="submit">Valider</button>
                    </div>
                </form>
            </div>

            <div class="col-md-6 col-lg-4">
                <form id="formDateEnd" role="search" aria-label="Recherche par date de fin">
                    <label for="searchDateEnd" class="form-label">Évènement avant :</label>
                    <div class="input-group">
                        <input class="form-control" type="date" id="searchDateEnd" name="searchDateEnd" />
                        <button class="btn btn-outline-success" type="submit">Valider</button>
                    </div>
                </form>
            </div>

            <!-- Bouton pour recherche combinée -->
            <div class="col-12">
                <div class="d-flex justify-content-center gap-2 mt-3">
                    <button type="button" class="btn btn-success" id="combinedSearchBtn">
                        <i class="fas fa-search"></i> Recherche combinée
                    </button>
                    <button type="button" class="btn btn-outline-secondary" id="resetAllBtn">
                        <i class="fas fa-undo"></i> Réinitialiser
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Bloc résultats-->
<div class="bloc" aria-labelledby="event-title">

    <!--Titre du bloc-->
    <h2 id="event-title" class="text-start fs-1">Résultats des recherches</h2>

    <!--Liens évènements à venir-->
    <div class="mt-3">
        <ul class="event-list">
            <!-- Les résultats seront chargés dynamiquement par JavaScript -->
            <li class="text-center py-4 text-muted">
                <div class="spinner-border">
                    <span class="visually-hidden">Chargement des événements...</span>
                </div>
                <div class="mt-2">Chargement des événements...</div>
            </li>
        </ul>
    </div>
</div>

<!--Lien vers la création d'un nouvel évènement-->
<div class="text-end  fs-1 mt-5">
    <a href="/creationEvenement" data-show="organizer, admin" onclick="window.route(event)">Créer un nouvel évènement</a>
</div>
